{"version":3,"sources":["pages/Details.module.css","components/SeacrhForm/SearchForm.module.css","components/Card/Card.module.css","components/Grid/Grid.module.css","components/BackButton/BackButton.module.css","api/trending.js","components/Card/Card.jsx","components/Grid/Grid.jsx","components/LoadMoreButton/LoadMoreButton.jsx","pages/Trending.jsx","api/search.js","pages/Search.jsx","utils/index.js","api/details.js","components/BackButton/BackButton.jsx","pages/Details.jsx","components/SeacrhForm/SearchForm.jsx","App.js","index.js"],"names":["module","exports","REACT_APP_API_KEY","process","getTrending","a","limit","offset","url","axios","get","result","status","Error","data","Card","previewUrl","id","className","useState","loaded","setLoaded","inlineImageStyles","opacity","loaderInlineStyles","styles","root","join","to","src","style","onLoad","e","alt","imgGif","loader","Grid","items","breakpointCols","default","columnClassName","grid_column","grid","map","images","title","preview_gif","LoadMoreButton","onClick","Trending","undefined","setItems","setOffset","fetchTrending","useEffect","getSearchUrl","q","apiKey","searchRequest","text","response","statusText","Search","location","search","query","setQuery","value","key","URLSearchParams","getQuery","getOne","BackButton","history","useHistory","backButton","goBack","Details","match","console","log","details","setDetail","fetchDetails","params","imageContainer","original","descriptionContainer","detailsList","listItem","href","target","rel","SearchForm","onSubmit","setValue","preventDefault","form","controlGroup","nativeInput","type","onChange","currentTarget","placeholder","name","button","withRouter","searchQuery","push","exact","path","render","props","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6fe4ffb8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Details_root__2Mojx\",\"descriptionContainer\":\"Details_descriptionContainer__24f29\",\"imageContainer\":\"Details_imageContainer__2acbJ\",\"detailsList\":\"Details_detailsList__184BK\",\"listItem\":\"Details_listItem__1X8q5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"SearchForm_form__3ic_m\",\"controlGroup\":\"SearchForm_controlGroup__35YPR\",\"nativeInput\":\"SearchForm_nativeInput__3rwT1\",\"button\":\"SearchForm_button__3rU3S\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Card_root__3Uy6V\",\"img\":\"Card_img__qr-qd\",\"title\":\"Card_title__2pVhP\",\"loader\":\"Card_loader__cbGdK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"grid\":\"Grid_grid__3-ZqL\",\"grid_column\":\"Grid_grid_column___OS6X\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backButton\":\"BackButton_backButton__18SxD\"};","import axios from 'axios';\nconst { REACT_APP_API_KEY } = process.env;\n\nexport const getTrending = async (limit = 25, offset = 0) => {\n  const url = `https://api.giphy.com/v1/gifs/trending?api_key=${REACT_APP_API_KEY}&limit=${limit}}&offset=${offset}&rating=g`;\n  const result = await axios.get(url);\n  \n  if (result.status >= 400) {\n    throw Error('Something goes wrong');\n  }\n\n  return result.data;\n};","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport styles from './Card.module.css';\n\nconst Card = ({\n  previewUrl,\n  id,\n  className,\n}) => {\n \n  const [loaded, setLoaded] = useState(false);\n\n  const inlineImageStyles = {\n    opacity: loaded ? 1 : 0\n  };\n\n  const onLoad = (e) => {\n    setLoaded(true);\n  };\n\n  const loaderInlineStyles = {\n    opacity: loaded ? 0 : 1\n  }\n\n  return (\n    <Link\n      className={[styles.root, className].join(' ')}\n      to={`/gif/${id}`}\n    >\n     <img\n          src={previewUrl}\n          style={inlineImageStyles}\n          onLoad={onLoad}\n          alt=''\n          className={styles.imgGif}\n        />\n      <div className={styles.loader} style={loaderInlineStyles}>Loading</div>\n    </Link>\n  );\n};\n\nexport { Card };","import Masonry from 'react-masonry-css'\nimport {Card} from '../Card'\nimport styles from './Grid.module.css';\nexport const Grid = ({items}) => {\n  const breakpointColumnsObj = {\n    default: 6,\n    1100: 3,\n    700: 2,\n    500: 1\n  };\n  return <Masonry\n  breakpointCols={breakpointColumnsObj}\n  columnClassName={styles.grid_column}\n  className={styles.grid}\n  >\n  {\n    items.map(({id, url, images, title, }) => (\n      <div >\n        <Card id={id} url={url} previewUrl={images.preview_gif.url} title={title}/>\n      </div>\n    ))\n  }\n  </Masonry>\n}","export const LoadMoreButton = ({onClick}) => {\n  return <button onClick={onClick}>Load more</button>\n}","import { useEffect, useState } from 'react';\nimport { getTrending } from '../api/trending';\nimport { Grid } from '../components/Grid';\nimport { LoadMoreButton } from '../components/LoadMoreButton';\n\nexport const Trending = () => {\n  const [items, setItems] = useState(undefined);\n  const [offset, setOffset] = useState(0);\n  const limit = 50;\n  const fetchTrending = async () => {\n    const { data } = await getTrending(limit, offset);\n    setItems(items ? [...items, ...data] : data);\n  };\n\n  const loadMore = () => {\n    setOffset(offset + limit)\n  }\n\n  useEffect(() => {\n    fetchTrending();\n  }, [offset]);\n\n  return (\n    <div>\n      {items ? <Grid items={items} /> : 'Loading...'}\n      <LoadMoreButton onClick={loadMore} />\n    </div>\n  );\n};\n","import axios from 'axios';\nconst { REACT_APP_API_KEY } = process.env;\n\nconst getSearchUrl = (q, limit, offset, apiKey = \"\") => {\n  return `https://api.giphy.com/v1/gifs/search?q=${q}&limit=${limit}&offset=${offset}&api_key=${apiKey}`;\n};\n\nexport const searchRequest = async (text, limit = 25, offset = 0) => {\n  const response = await axios.get(getSearchUrl(text, limit, offset, REACT_APP_API_KEY));\n  if (response.status >= 400) {\n    throw new Error(response.statusText);\n  }\n  \n  return response.data;\n};","import { useEffect, useState } from 'react';\nimport { getQuery } from '../utils';\nimport { searchRequest } from '../api/search';\nimport { Grid } from '../components/Grid';\nimport { LoadMoreButton } from '../components/LoadMoreButton';\n\nexport const Search = ({ location }) => {\n  const [items, setItems] = useState(undefined);\n  const [query, setQuery] = useState(location.search);\n  const [offset, setOffset] = useState(0);\n  const limit = 25;\n\n  const search = async (value) => {\n    const { data } = await searchRequest(value, limit, offset);\n    setItems(items ? [...items, ...data] : data);\n  };\n\n  const loadMore = () => {\n    setOffset(offset + limit)\n  }\n\n  useEffect(() => {\n    const query = getQuery(location, 'q');\n    setQuery(query);\n  }, [location.search]);\n\n  useEffect(() => {\n    search(query);\n  }, [query, offset]);\n  \n  return <div>{items ? <Grid items={items} /> : 'Loading'}  <LoadMoreButton onClick={loadMore} /></div>;\n};\n","export const getQuery = (location, key) => {\n  const y = new URLSearchParams(location.search);\n  return y.get(key) || null;\n};\n\nexport const setToQueryParams = (location, param, value) => {\n  let params = new URLSearchParams(location.search);\n  params.set(param, value)\n  console.log(params.toString())\n  return params\n}","import axios from 'axios';\nconst { REACT_APP_API_KEY } = process.env;\n\nconst API_KEY = REACT_APP_API_KEY;\n\nexport const getOne = async (id) => {\n  const url = `https://api.giphy.com/v1/gifs/${id}?api_key=${API_KEY}`;\n  const result = await axios.get(url);\n  \n  if (result.status >= 400) {\n    throw Error('Something goes wrong');\n  }\n\n  return result.data;\n};","import { useHistory } from 'react-router-dom';\nimport styles from './BackButton.module.css';\n\nexport const BackButton = () => {\n  const history = useHistory();\n  return (\n    <button\n      className={styles.backButton}\n      onClick={() => history.goBack()}\n      title='go back'\n    >\n      {'<'}\n    </button>\n  );\n};","import { useEffect, useState } from 'react';\nimport { getOne } from '../api/details';\nimport styles from './Details.module.css';\nimport { BackButton } from '../components/BackButton';\n\nexport const Details = ({ location, history, match }) => {\n  console.log(location, history, match);\n  const [details, setDetail] = useState(undefined);\n  const fetchDetails = async () => {\n    const { data } = await getOne(match.params.id);\n    console.log(data);\n    setDetail(data);\n  };\n  useEffect(() => {\n    fetchDetails();\n  }, [match.params.id]);\n\n  return (\n    <div className={styles.root}>\n      <BackButton />\n      {details ? (\n        <>\n          <div className={styles.imageContainer}>\n            <img src={details.images.original.url} alt='' />\n          </div>\n          <div className={styles.descriptionContainer}>\n            <ul className={styles.detailsList}>\n              <li className={styles.listItem}>{details.title}</li>\n              <li className={styles.listItem}>\n                <a href={details.url} target='blank' rel='noopener'>\n                  Open on GIPHY.COM\n                </a>\n              </li>\n              <li className={styles.listItem}>\n                <button>Copy link</button>\n              </li>\n            </ul>\n          </div>\n        </>\n      ) : (\n        'Loading'\n      )}\n    </div>\n  );\n};\n","import { useState } from 'react';\nimport styles from './SearchForm.module.css';\nexport const SearchForm = ({ onSubmit }) => {\n  const [value, setValue] = useState('');\n\n  const submitHandler = (e) => {\n    e.preventDefault();\n    if (value) {\n      onSubmit(value);\n    }\n  };\n  const changeHandler = (e) => {\n    setValue(e.currentTarget.value);\n  };\n  return (\n    <form onSubmit={submitHandler} className={styles.form}>\n      <div className={styles.controlGroup}>\n        <input\n          className={styles.nativeInput}\n          type='text'\n          onChange={changeHandler}\n          placeholder=\"Search\"\n          value={value}\n          name='search'\n          title='enter search query'\n        />\n        <button className={styles.button}>Search</button>\n      </div>\n    </form>\n  );\n};\n","\nimport { Switch, Route, Link, withRouter } from 'react-router-dom';\n\nimport { Trending } from './pages/Trending';\nimport { Search } from './pages/Search';\nimport { Details } from './pages/Details';\nimport { SearchForm } from './components/SeacrhForm';\nimport './App.css';\n\nfunction App({ history }) {\n  const search = (searchQuery) => {\n    console.log(searchQuery);\n    history.push(`${process.env.PUBLIC_URL}/search?q=${searchQuery}`);\n  };\n  return (\n    <div className=\"App\">\n      <header className=\"header\">\n        <Link className=\"link\" to={`${process.env.PUBLIC_URL}/`}>Home</Link>\n        <SearchForm onSubmit={search} />\n      </header>\n      <Switch>\n        <Route exact={true} path={`${process.env.PUBLIC_URL}/`} render={(props) => <Trending {...props} />} />\n        <Route path={`${process.env.PUBLIC_URL}/search`} render={(props) => <Search {...props} />} />\n        <Route path={`${process.env.PUBLIC_URL}/gif/:id`} render={(props) => <Details {...props} />} />\n      </Switch>\n    </div>\n  );\n}\n\nexport default withRouter(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter } from 'react-router-dom';\nimport './variable.css';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n      <App />\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}